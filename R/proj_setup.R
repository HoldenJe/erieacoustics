proj_setup <- function(path, ...) {

  # Create directories
  dir.create(path, recursive = TRUE, showWarnings = FALSE)
  dir.create(paste0(path, "/1_Annual_Protocol"), recursive = TRUE, showWarnings = FALSE)
  dir.create(paste0(path, "/2_EVTemplate"), recursive = TRUE, showWarnings = FALSE)
  dir.create(paste0(path, "/3_Ping_Data"), recursive = TRUE, showWarnings = FALSE)
  dir.create(paste0(path, "/4_Trawl_Data"), recursive = TRUE, showWarnings = FALSE)
  dir.create(paste0(path, "/5_Enviro_Data"), recursive = TRUE, showWarnings = FALSE)
  dir.create(paste0(path, "/6_Misc"), recursive = TRUE, showWarnings = FALSE)
  dir.create(paste0(path, "/7_Annual_Summary"), recursive = TRUE, showWarnings = FALSE)

  # create some header text
  header <- c(
    "# Erie Acoustic Project",
    "*project template generated by* `erieacoustics`"
   )

  instructions <- c(
    "# Erie Acoustic Project Template Intructions",
    "## Folder Description and Contents",
    "File | Description",
    "---------- | --------------------------------------------------",
    "1_Annual_Protocol | contains Rmarkdown scripts and products for annual survey protocol",
    "2_EVTemplate | Echoview processing template should be stored here to be available to `set_up_transect`",
    "3_Ping_Data | contains the acoustic data for each transect",
    "3_Ping_Data/TransectName | each transect should be uniquely named and all data stored within a single directory",
    "4_Trawl_Data | contains the paired trawl data",
    "5_Enviro_Data | contains environmental measurements",
    "6_Misc | contains miscellaneous files associated with survey",
    "7_Annual_Summary | contains Rmarkdown scripts and products for annual summary",
    "### *This file can be deleted following project set up.*"
  )


  writeLines(instructions, con = file.path(path, "Instructions.md"))

  # collect inputs and paste together as 'Parameter: Value'
  dots <- list(...)
  text <- lapply(seq_along(dots), function(i) {
    key <- names(dots)[[i]]
    val <- dots[[i]]
    paste0(key, ": ", val)
  })

  # collect into single text string
  contents <- paste(
    paste(header, collapse = "\n"),
    paste(text, collapse = "\n"),
    sep = "  \n"
  )

  # write to index file
  writeLines(contents, con = file.path(path, "ReadMe.md"))

  # write gitignore file
  gitignore <- c(
    "# Gitignore file autogenerated by `erieacoustics`",
    ".Rproj.user",
    ".Rhistory",
    ".RData",
    ".Ruserdata",
    "*.html",
    "",
    "# Acoustic file types",
    "*.bot",
    "*.raw",
    "*.idx",
    "*.evi",
    "*.evwx",
    "*.evb",
    "*.dt4",
    "*.rtp",
    "*.rtpx",
    "*.dg"
  )

  writeLines(gitignore, con = file.path(path, ".gitignore"))

  transect_setup <- c(
    "# Export transect data",
    "library(erieacoustics)",
    "# Edit the template file name:",
    "templatefile <- '2_EVTemplate/ErieHacTemplate_2021_v2_simrad.EV'",
    "evtemplate <- file.path(getwd(), templatefile)",
    "dir.exists('3_Ping_Data')",
    "file.exists(evtemplate)",
    "",
    "transects <- dir('3_Ping_Data')",
    "",
    "# run all",
    "# Edit TRANSDUCER type:",
    "TRANSDUCER <- 'SIMRAD'",
    "run_all <- function(x) {set_up_transect(evtemplate, getwd(), 'TRANSDUCER', x)}",
    "lapply(transects, run_all)"
  )

  writeLines(transect_setup, con = file.path(path, "7_Annual_Summary/1_run_setup_template.R"))
}
